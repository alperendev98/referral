from django.core.files.base import ContentFile
from django.core.files.uploadedfile import SimpleUploadedFile


def create_jpeg_image() -> ContentFile:
    """
    The smallest possible JPEG image.

    Source:
        https://github.com/mathiasbynens/small
    """
    return ContentFile(
        b'\xff\xd8\xff\xdb\x00C\x00\x03\x02\x02\x02\x02\x02\x03\x02\x02\x02' \
        b'\x03\x03\x03\x03\x04\x06\x04\x04\x04\x04\x04\x08\x06\x06\x05\x06' \
        b'\t\x08\n\n\t\x08\t\t\n\x0c\x0f\x0c\n\x0b\x0e\x0b\t\t\r\x11\r\x0e' \
        b'\x0f\x10\x10\x11\x10\n\x0c\x12\x13\x12\x10\x13\x0f\x10\x10\x10\xff' \
        b'\xc9\x00\x0b\x08\x00\x01\x00\x01\x01\x01\x11\x00\xff\xcc\x00\x06' \
        b'\x00\x10\x10\x05\xff\xda\x00\x08\x01\x01\x00\x00?\x00\xd2\xcf \xff\xd9',
        name="The smallest possible JPEG image.jpg"
    )


def create_simple_uploaded_jpeg_image() -> SimpleUploadedFile:
    """Wrap smallest possible JPEG image into SimpleUploadedFile."""

    jpeg_image = create_jpeg_image()

    return SimpleUploadedFile(
        jpeg_image.name,
        jpeg_image.read(),
        content_type='image/jpeg',
    )


def create_png_image() -> ContentFile:
    """
    The smallest possible PNG image.

    Source:
        https://github.com/mathiasbynens/small
    """
    return ContentFile(
        b'\x89\x50\x4E\x47\x0D\x0A\x1A\x0A\x00\x00\x00\x0D\x49\x48\x44\x52\x00' \
        b'\x00\x00\x01\x00\x00\x00\x01\x08\x06\x00\x00\x00\x1F\x15\xC4\x89\x00' \
        b'\x00\x00\x0A\x49\x44\x41\x54\x78\x9C\x63\x00\x01\x00\x00\x05\x00\x01' \
        b'\x0D\x0A\x2D\xB4\x00\x00\x00\x00\x49\x45\x4E\x44\xAE\x42\x60\x82',
        name="The smallest possible PNG image.png"
    )


def create_mp4_video() -> ContentFile:
    """
    The smallest possible MP4 video.

    Source:
        https://github.com/mathiasbynens/small
    """
    return ContentFile(
        b'\x00\x00\x00\x1C\x66\x74\x79\x70\x69\x73\x6F\x6D\x00\x00\x02\x00\x69' \
        b'\x73\x6F\x6D\x69\x73\x6F\x32\x6D\x70\x34\x31\x00\x00\x00\x08\x66\x72' \
        b'\x65\x65\x00\x00\x00\x1A\x6D\x64\x61\x74\x00\x00\x01\xB3\x00\x10\x07' \
        b'\x00\x00\x01\xB6\x10\x60\x51\x82\x3D\xB7\xEF\x00\x00\x03\x0D\x6D\x6F' \
        b'\x6F\x76\x00\x00\x00\x6C\x6D\x76\x68\x64\x00\x00\x00\x00\xC5\xCC\xBE' \
        b'\xFA\xC5\xCC\xBE\xFA\x00\x00\x03\xE8\x00\x00\x00\x2A\x00\x01\x00\x00' \
        b'\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x40\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x18\x69\x6F\x64\x73\x00' \
        b'\x00\x00\x00\x10\x80\x80\x80\x07\x00\x4F\xFF\xFF\xFF\xFE\xFF\x00\x00' \
        b'\x02\x21\x74\x72\x61\x6B\x00\x00\x00\x5C\x74\x6B\x68\x64\x00\x00\x00' \
        b'\x0F\xC5\xCC\xBE\xFA\xC5\xCC\xBE\xFA\x00\x00\x00\x01\x00\x00\x00\x00' \
        b'\x00\x00\x00\x2A\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x40\x00\x00\x00\x00\x08\x00\x00\x00\x08\x00\x00\x00\x00\x01\xBD' \
        b'\x6D\x64\x69\x61\x00\x00\x00\x20\x6D\x64\x68\x64\x00\x00\x00\x00\xC5' \
        b'\xCC\xBE\xFA\xC5\xCC\xBE\xFA\x00\x00\x00\x18\x00\x00\x00\x01\x15\xC7' \
        b'\x00\x00\x00\x00\x00\x2D\x68\x64\x6C\x72\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x76\x69\x64\x65\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x56\x69\x64\x65\x6F\x48\x61\x6E\x64\x6C\x65\x72\x00\x00\x00\x01\x68' \
        b'\x6D\x69\x6E\x66\x00\x00\x00\x14\x76\x6D\x68\x64\x00\x00\x00\x01\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x24\x64\x69\x6E\x66\x00\x00' \
        b'\x00\x1C\x64\x72\x65\x66\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00' \
        b'\x0C\x75\x72\x6C\x20\x00\x00\x00\x01\x00\x00\x01\x28\x73\x74\x62\x6C' \
        b'\x00\x00\x00\xC4\x73\x74\x73\x64\x00\x00\x00\x00\x00\x00\x00\x01\x00' \
        b'\x00\x00\xB4\x6D\x70\x34\x76\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00' \
        b'\x08\x00\x48\x00\x00\x00\x48\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\xFF\xFF' \
        b'\x00\x00\x00\x5E\x65\x73\x64\x73\x00\x00\x00\x00\x03\x80\x80\x80\x4D' \
        b'\x00\x01\x00\x04\x80\x80\x80\x3F\x20\x11\x00\x00\x00\x00\x03\x0D\x40' \
        b'\x00\x00\x00\x00\x05\x80\x80\x80\x2D\x00\x00\x01\xB0\x01\x00\x00\x01' \
        b'\xB5\x89\x13\x00\x00\x01\x00\x00\x00\x01\x20\x00\xC4\x8D\x88\x00\xC5' \
        b'\x00\x44\x01\x14\x43\x00\x00\x01\xB2\x4C\x61\x76\x63\x35\x33\x2E\x33' \
        b'\x35\x2E\x30\x06\x80\x80\x80\x01\x02\x00\x00\x00\x18\x73\x74\x74\x73' \
        b'\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00' \
        b'\x00\x00\x1C\x73\x74\x73\x63\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00' \
        b'\x00\x01\x00\x00\x00\x01\x00\x00\x00\x01\x00\x00\x00\x14\x73\x74\x73' \
        b'\x7A\x00\x00\x00\x00\x00\x00\x00\x12\x00\x00\x00\x01\x00\x00\x00\x14' \
        b'\x73\x74\x63\x6F\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x2C\x00' \
        b'\x00\x00\x60\x75\x64\x74\x61\x00\x00\x00\x58\x6D\x65\x74\x61\x00\x00' \
        b'\x00\x00\x00\x00\x00\x21\x68\x64\x6C\x72\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x6D\x64\x69\x72\x61\x70\x70\x6C\x00\x00\x00\x00\x00\x00\x00\x00' \
        b'\x00\x00\x00\x00\x2B\x69\x6C\x73\x74\x00\x00\x00\x23\xA9\x74\x6F\x6F' \
        b'\x00\x00\x00\x1B\x64\x61\x74\x61\x00\x00\x00\x01\x00\x00\x00\x00\x4C' \
        b'\x61\x76\x66\x35\x33\x2E\x32\x31\x2E\x31',
        name="The smallest possible MP4 video.mp4"
    )


def create_webm_video():
    """
    The smallest possible WEBM video.

    Source:
        https://github.com/mathiasbynens/small
    """
    return ContentFile(
        b'\x1A\x45\xDF\xA3\x40\x20\x42\x86\x81\x01\x42\xF7\x81\x01\x42\xF2\x81'
        b'\x04\x42\xF3\x81\x08\x42\x82\x40\x04\x77\x65\x62\x6D\x42\x87\x81\x02'
        b'\x42\x85\x81\x02\x18\x53\x80\x67\x40\x8D\x15\x49\xA9\x66\x40\x28\x2A'
        b'\xD7\xB1\x40\x03\x0F\x42\x40\x4D\x80\x40\x06\x77\x68\x61\x6D\x6D\x79'
        b'\x57\x41\x40\x06\x77\x68\x61\x6D\x6D\x79\x44\x89\x40\x08\x40\x8F\x40'
        b'\x00\x00\x00\x00\x00\x16\x54\xAE\x6B\x40\x31\xAE\x40\x2E\xD7\x81\x01'
        b'\x63\xC5\x81\x01\x9C\x81\x00\x22\xB5\x9C\x40\x03\x75\x6E\x64\x86\x40'
        b'\x05\x56\x5F\x56\x50\x38\x25\x86\x88\x40\x03\x56\x50\x38\x83\x81\x01'
        b'\xE0\x40\x06\xB0\x81\x08\xBA\x81\x08\x1F\x43\xB6\x75\x40\x22\xE7\x81'
        b'\x00\xA3\x40\x1C\x81\x00\x00\x80\x30\x01\x00\x9D\x01\x2A\x08\x00\x08'
        b'\x00\x01\x40\x26\x25\xA4\x00\x03\x70\x00\xFE\xFC\xF4\x00\x00',
        name="The smallest possible WEBM video.webm"
    )


def create_json_file() -> ContentFile:
    """
    The smallest possible JSON file.

    Source:
        https://github.com/mathiasbynens/small
    """
    return ContentFile('0', name="The smallest possible JSON file.json")
